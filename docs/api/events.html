<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Event Scripting | TwilioQuest Extensions</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.twilio.com/quest/next/favicon.png">
    <meta name="description" content="Get started building new adventures in TwilioQuest.">
    <meta name="theme-color" content="#F22F46">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/extension-docs/assets/css/0.styles.c3850dc8.css" as="style"><link rel="preload" href="/extension-docs/assets/js/app.066218cb.js" as="script"><link rel="preload" href="/extension-docs/assets/js/2.09d60821.js" as="script"><link rel="preload" href="/extension-docs/assets/js/12.1e0528d5.js" as="script"><link rel="prefetch" href="/extension-docs/assets/js/10.8a9a7d2b.js"><link rel="prefetch" href="/extension-docs/assets/js/11.da53eb34.js"><link rel="prefetch" href="/extension-docs/assets/js/13.a1f3b715.js"><link rel="prefetch" href="/extension-docs/assets/js/14.7ce2789a.js"><link rel="prefetch" href="/extension-docs/assets/js/15.5c0f3083.js"><link rel="prefetch" href="/extension-docs/assets/js/16.703eb6be.js"><link rel="prefetch" href="/extension-docs/assets/js/17.02c10605.js"><link rel="prefetch" href="/extension-docs/assets/js/18.ac0c2f09.js"><link rel="prefetch" href="/extension-docs/assets/js/19.3aecbbb0.js"><link rel="prefetch" href="/extension-docs/assets/js/20.8eae8b0e.js"><link rel="prefetch" href="/extension-docs/assets/js/21.3581aa4a.js"><link rel="prefetch" href="/extension-docs/assets/js/22.b01e65ab.js"><link rel="prefetch" href="/extension-docs/assets/js/23.2d32259d.js"><link rel="prefetch" href="/extension-docs/assets/js/24.5c93c507.js"><link rel="prefetch" href="/extension-docs/assets/js/25.32aa85a5.js"><link rel="prefetch" href="/extension-docs/assets/js/3.3a852c24.js"><link rel="prefetch" href="/extension-docs/assets/js/4.4d31d94d.js"><link rel="prefetch" href="/extension-docs/assets/js/5.569bfa89.js"><link rel="prefetch" href="/extension-docs/assets/js/6.498ab014.js"><link rel="prefetch" href="/extension-docs/assets/js/7.7e550121.js"><link rel="prefetch" href="/extension-docs/assets/js/8.fd00c792.js"><link rel="prefetch" href="/extension-docs/assets/js/9.b751af4a.js">
    <link rel="stylesheet" href="/extension-docs/assets/css/0.styles.c3850dc8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/extension-docs/" class="home-link router-link-active"><!----> <span class="site-name">TwilioQuest Extensions</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/extension-docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/extension-docs/api/" class="nav-link router-link-active">
  API Reference
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/extension-docs/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/extension-docs/api/" class="nav-link router-link-active">
  API Reference
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/extension-docs/api/" aria-current="page" class="sidebar-link">API Overview</a></li><li><a href="/extension-docs/api/levels.html" class="sidebar-link">Level Configuration</a></li><li><a href="/extension-docs/api/objectives.html" class="sidebar-link">Objective Configuration</a></li><li><a href="/extension-docs/api/events.html" aria-current="page" class="active sidebar-link">Event Scripting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/extension-docs/api/events.html#event" class="sidebar-link">Event</a></li><li class="sidebar-sub-header"><a href="/extension-docs/api/events.html#world" class="sidebar-link">World</a></li></ul></li><li><a href="/extension-docs/api/objects.html" class="sidebar-link">Built-in Game Objects</a></li><li><a href="/extension-docs/api/custom_objects.html" class="sidebar-link">Custom Objects</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="event-scripting"><a href="#event-scripting" class="header-anchor">#</a> Event Scripting</h1> <p>Levels expose a series of APIs and events that let you script custom behavior. Scripting lives in the <code>events.js</code> file located at <code>levels/&lt;level_name&gt;/events.js</code> for your level.</p> <p>The <code>events.js</code> file exports a single event handler function as it's default export. As events occur during the lifecycle of TwilioQuest, this function gets invoked with two properties. The first is an <code>event</code> object describing the event. The second is a <code>world</code> API object allowing you to modify the game world.</p> <h2 id="event"><a href="#event" class="header-anchor">#</a> Event</h2> <p>There are a variety of different events that you can respond to. The only required property on each event is <code>name</code>. You should use it to key off of and know which other properties to expect.</p> <h3 id="timerdidtrigger"><a href="#timerdidtrigger" class="header-anchor">#</a> timerDidTrigger</h3> <p>This event is triggered by a world API and can contain any arbitrary payload properties you attach to it. These properties are all attached to the root of the event.</p> <h4 id="properties"><a href="#properties" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;timerDidTrigger&quot;</code></li></ul> <h3 id="conversationdidend"><a href="#conversationdidend" class="header-anchor">#</a> conversationDidEnd</h3> <p>This event fires after a player closes a conversation with an NPC.</p> <h4 id="properties-2"><a href="#properties-2" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;conversationDidEnd&quot;</code></li> <li><code>npc (Object)</code>: This is the in game TwilioQuest entity for the Non Player Character that the player is conversing with.</li></ul> <h3 id="mapdidload"><a href="#mapdidload" class="header-anchor">#</a> mapDidLoad</h3> <p>This event fires after a map loads.</p> <h4 id="properties-3"><a href="#properties-3" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;mapDidLoad&quot;</code></li> <li><code>mapName (String)</code>: The key representing the map that loaded.</li></ul> <h3 id="levelwillunload"><a href="#levelwillunload" class="header-anchor">#</a> levelWillUnload</h3> <p>This event triggers right before the level finishes unloading. Synchronous behavior will occur before the level finishes unloading. Asynchronous behavior will not block level unloading. This should primarily be used for cleaning up any data or state.</p> <h4 id="properties-4"><a href="#properties-4" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;levelWillUnload&quot;</code></li></ul> <h3 id="leveldidload"><a href="#leveldidload" class="header-anchor">#</a> levelDidLoad</h3> <p>This event triggers right after a level loads. This triggers once even if the player transfers between different maps within a level.</p> <h4 id="properties-5"><a href="#properties-5" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;levelDidLoad&quot;</code></li></ul> <h3 id="playerdidinteract"><a href="#playerdidinteract" class="header-anchor">#</a> playerDidInteract</h3> <p>Triggers after a player interacts with anything in the game world.</p> <h4 id="properties-6"><a href="#properties-6" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;playerDidInteract&quot;</code></li> <li><code>target (Object)</code>: This is the in game TwilioQuest entity that the player interacted with.</li></ul> <h3 id="triggerareawasentered"><a href="#triggerareawasentered" class="header-anchor">#</a> triggerAreaWasEntered</h3> <p>Triggers after a player enters a region defined as a trigger area.</p> <h4 id="properties-7"><a href="#properties-7" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;triggerAreaWasEntered&quot;</code></li> <li><code>target (Object)</code>: A reference to the trigger area object that was entered. This is useful to determine which trigger area was entered.</li></ul> <h3 id="triggerareawasexited"><a href="#triggerareawasexited" class="header-anchor">#</a> triggerAreaWasExited</h3> <p>Triggers after a player exits a region defined as a trigger area.</p> <h4 id="properties-8"><a href="#properties-8" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;triggerAreaWasExited&quot;</code></li> <li><code>target (Object)</code>: A reference to the trigger area object that was exited. This is useful to determine which trigger area was exited.</li></ul> <h3 id="objectivedidopen"><a href="#objectivedidopen" class="header-anchor">#</a> objectiveDidOpen</h3> <p>Triggers after a player hacks an objective hack interface.</p> <h4 id="properties-9"><a href="#properties-9" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;objectiveDidOpen&quot;</code></li> <li><code>target (Object)</code>: A reference to the object that triggered the hack. The <code>objectiveName</code> property on this object is useful to determine which objective was hacked.</li></ul> <h3 id="objectivedidclose"><a href="#objectivedidclose" class="header-anchor">#</a> objectiveDidClose</h3> <p>Triggers after a player closes the objective hack interface.</p> <h4 id="properties-10"><a href="#properties-10" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;objectiveDidClose&quot;</code></li> <li><code>target (Object)</code>: A reference to the object that was last hacked. The <code>objectiveName</code> property on this object is useful to determine which objective was hacked.</li></ul> <h3 id="objectivefailed"><a href="#objectivefailed" class="header-anchor">#</a> objectiveFailed</h3> <p>Triggers after a player attempts to hack an objective and then the validator fails their attempt.</p> <h4 id="properties-11"><a href="#properties-11" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;objectiveFailed&quot;</code></li> <li><code>objective (String)</code>: The name of the objective that was failed.</li></ul> <h3 id="objectivecompleted"><a href="#objectivecompleted" class="header-anchor">#</a> objectiveCompleted</h3> <p>Triggers after a player attempts to hack an objective and then the validator passes their attempt. This event is only triggered the first time a player completes a given objective. Subsequent hacks fire <code>objectiveCompletedAgain</code>.</p> <h4 id="properties-12"><a href="#properties-12" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;objectiveCompleted&quot;</code></li> <li><code>objective (String)</code>: The name of the objective that was passed.</li></ul> <h3 id="objectivecompletedagain"><a href="#objectivecompletedagain" class="header-anchor">#</a> objectiveCompletedAgain</h3> <p>Triggers after a player attempts to hack an objective they've already completed and then the validator passes their attempt.</p> <h4 id="properties-13"><a href="#properties-13" class="header-anchor">#</a> Properties</h4> <ul><li><code>name (String)</code>: <code>&quot;objectiveCompletedAgain&quot;</code></li> <li><code>objective (String)</code>: The name of the objective that was passed.</li></ul> <h2 id="world"><a href="#world" class="header-anchor">#</a> World</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/extension-docs/api/objectives.html" class="prev">
        Objective Configuration
      </a></span> <span class="next"><a href="/extension-docs/api/objects.html">
        Built-in Game Objects
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/extension-docs/assets/js/app.066218cb.js" defer></script><script src="/extension-docs/assets/js/2.09d60821.js" defer></script><script src="/extension-docs/assets/js/12.1e0528d5.js" defer></script>
  </body>
</html>
